<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- saved from url=(0058)http://java.sun.com/docs/books/tutorial/rmi/designing.html -->
<HTML><HEAD><TITLE>Designing a Remote Interface (The Java™ Tutorials > RMI)</TITLE>
<META http-equiv=Content-Type content="text/html; charset=iso-8859-1">
<STYLE type=text/css>.FigureCaption {
	FONT-SIZE: smaller; MARGIN-LEFT: 1in; MARGIN-RIGHT: 1in; FONT-FAMILY: sans-serif; TEXT-ALIGN: justify
}
#TopBar_bl {
	BACKGROUND: url(../images/java_bar_bl.gif) no-repeat 0px 100%; WIDTH: 100%; HEIGHT: 60px
}
#TopBar_br {
	BACKGROUND: url(../images/java_bar_br.gif) no-repeat 100% 100%; WIDTH: 100%; HEIGHT: 60px
}
#TopBar_tl {
	BACKGROUND: url(../images/java_bar_tl.gif) no-repeat 0px 0px; WIDTH: 100%; HEIGHT: 60px
}
#TopBar_tr {
	BACKGROUND: url(../images/java_bar_tr.gif) no-repeat 100% 0px; WIDTH: 100%; HEIGHT: 60px
}
#TopBar {
	FONT-WEIGHT: bold; BACKGROUND: url(../images/java_bar.gif) #35556b; MARGIN: 10px 10px 0px; COLOR: white; FONT-FAMILY: sans-serif; HEIGHT: 60px; min-width: 700px
}

@media Print    
{
#BreadCrumbs {
	DISPLAY: none
}
#Download {
	DISPLAY: none
}
    }
#TopBar_right {
	PADDING-RIGHT: 30px; FLOAT: right; LINE-HEIGHT: 14px; PADDING-TOP: 2px; TEXT-ALIGN: center
}

@media Print    
{
#TopBar_right {
	DISPLAY: none
}
    }
#TopBar_right A {
	PADDING-RIGHT: 0px; PADDING-LEFT: 0px; FONT-SIZE: 12px; PADDING-BOTTOM: 0px; MARGIN: 3px; PADDING-TOP: 0px
}
#TopBar A:visited {
	COLOR: white; TEXT-DECORATION: none
}
#TopBar A:link {
	COLOR: white; TEXT-DECORATION: none
}
#TopBar A:hover {
	COLOR: #35556b; BACKGROUND-COLOR: white
}
#TopBar A:active {
	COLOR: #35556b; BACKGROUND-COLOR: white
}
#BreadCrumbs {
	PADDING-RIGHT: 5px; PADDING-LEFT: 0px; FLOAT: right; PADDING-BOTTOM: 0.5em; PADDING-TOP: 4px; FONT-FAMILY: sans-serif
}
#BreadCrumbs A {
	COLOR: blue
}
#BreadCrumbs A:visited {
	TEXT-DECORATION: none
}
#BreadCrumbs A:link {
	TEXT-DECORATION: none
}
#BreadCrumbs A:hover {
	TEXT-DECORATION: underline
}
#BreadCrumbs A:active {
	TEXT-DECORATION: underline
}
#PageTitle {
	FONT-WEIGHT: bold; FONT-SIZE: 20px; MARGIN: 0px 5px 0.5em 0px; COLOR: #e76f00; FONT-FAMILY: sans-serif
}
.LeftBar_shown {
	MARGIN-TOP: 4px; FLOAT: left; MARGIN-BOTTOM: 2em; MARGIN-LEFT: 10px; WIDTH: 13em
}

@media Print    
{
.LeftBar_shown {
	DISPLAY: none
}
    }
.LeftBar_hidden {
	DISPLAY: none
}
#Footer {
	PADDING-LEFT: 10px; MARGIN-RIGHT: 10px; PADDING-TOP: 10px
}
.NavBit {
	PADDING-RIGHT: 5px; PADDING-LEFT: 0px; PADDING-BOTTOM: 0.5em; PADDING-TOP: 4px; FONT-FAMILY: sans-serif
}

@media Print    
{
.NavBit {
	DISPLAY: none
}
    }
#TagNotes {
	FONT-SIZE: smaller; FONT-FAMILY: sans-serif; TEXT-ALIGN: right
}

@media Print    
{
#TagNotes A:visited {
	COLOR: #35556b; TEXT-DECORATION: none
}
#TagNotes A:link {
	COLOR: #35556b; TEXT-DECORATION: none
}
    }
#Contents A {
	COLOR: blue
}
.NavBit A {
	COLOR: blue
}
#TagNotes A {
	COLOR: blue
}
#TagNotes A:visited {
	TEXT-DECORATION: none
}
#TagNotes A:link {
	TEXT-DECORATION: none
}
#Contents A:visited {
	TEXT-DECORATION: none
}
#Contents A:link {
	TEXT-DECORATION: none
}
.NavBit A:visited {
	TEXT-DECORATION: none
}
.NavBit A:link {
	TEXT-DECORATION: none
}
#TagNotes A:hover {
	TEXT-DECORATION: underline
}
#TagNotes A:active {
	TEXT-DECORATION: underline
}
#Contents A:hover {
	TEXT-DECORATION: underline
}
#Contents A:active {
	TEXT-DECORATION: underline
}
.NavBit A:hover {
	TEXT-DECORATION: underline
}
.NavBit A:active {
	TEXT-DECORATION: underline
}
#Contents {
	FLOAT: left; FONT-FAMILY: sans-serif
}

@media Print    
{
#Contents {
	DISPLAY: none
}

}

@media Screen    
{
DIV.PrintHeaders {
	DISPLAY: none
}
    }
.linkLESSON {
	MARGIN-LEFT: 0.5em; TEXT-INDENT: -0.5em
}
.nolinkLESSON {
	MARGIN-LEFT: 0.5em; TEXT-INDENT: -0.5em
}
.linkAHEAD {
	MARGIN-LEFT: 1.5em; TEXT-INDENT: -0.5em
}
.nolinkAHEAD {
	MARGIN-LEFT: 1.5em; TEXT-INDENT: -0.5em
}
.linkQUESTIONS {
	MARGIN-LEFT: 1.5em; TEXT-INDENT: -0.5em
}
.nolinkQUESTIONS {
	MARGIN-LEFT: 1.5em; TEXT-INDENT: -0.5em
}
.linkBHEAD {
	MARGIN-LEFT: 2.5em; TEXT-INDENT: -0.5em
}
.nolinkBHEAD {
	MARGIN-LEFT: 2.5em; TEXT-INDENT: -0.5em
}
.linkCHEAD {
	MARGIN-LEFT: 3.5em; TEXT-INDENT: -0.5em
}
.nolinkCHEAD {
	MARGIN-LEFT: 3.5em; TEXT-INDENT: -0.5em
}
.nolinkLESSON {
	FONT-WEIGHT: bold; COLOR: #e76f00
}
.nolinkAHEAD {
	FONT-WEIGHT: bold; COLOR: #e76f00
}
.nolinkBHEAD {
	FONT-WEIGHT: bold; COLOR: #e76f00
}
.nolinkCHEAD {
	FONT-WEIGHT: bold; COLOR: #e76f00
}
.nolinkQUESTIONS {
	FONT-WEIGHT: bold; COLOR: #e76f00
}
.MainFlow_indented {
	MARGIN-BOTTOM: 2em; MARGIN-LEFT: 15em; MARGIN-RIGHT: 10px
}
.MainFlow_wide {
	MARGIN-BOTTOM: 2em; MARGIN-LEFT: 10px; MARGIN-RIGHT: 10px
}

@media Print    
{
.MainFlow_indented {
	MARGIN-TOP: 10px; MARGIN-LEFT: 0px; MARGIN-RIGHT: 10px; PADDING-TOP: 0px
}
.MainFlow_wide {
	MARGIN-TOP: 10px; MARGIN-LEFT: 0px; MARGIN-RIGHT: 10px; PADDING-TOP: 0px
}
    }
H3 {
	COLOR: #e76f00; FONT-FAMILY: sans-serif
}
H4 {
	COLOR: #e76f00; FONT-FAMILY: sans-serif
}
H5 {
	COLOR: #e76f00; FONT-FAMILY: sans-serif
}
#ToggleLeft {
	DISPLAY: none
}
</STYLE>

<SCRIPT type=text/javascript>
    function leftBar() {
        var nameq = 'tutorial_showLeftBar='
        var cookies = document.cookie.split(';');
        for (var i = 0; i < cookies.length; i++) {
            var cookieString = cookies[i];
            while (cookieString.charAt(0) == ' ') {
                cookieString = cookieString.substring(1, cookieString.length);
            }
            if (cookieString.indexOf(nameq) == 0) {
                cookieValue =  cookieString.substring(nameq.length,
                        cookieString.length);
                return cookieValue == 'yes';
            }
        }
        return true;
    }

    function showLeft(b) {
        var contents = document.getElementById("LeftBar");
        var main = document.getElementById("MainFlow");
        var toggle = document.getElementById("ToggleLeft");
        if (b) {
            contents.className = "LeftBar_shown";
            main.className = "MainFlow_indented";
            toggle.innerHTML = "Hide the TOC";
            document.cookie = 'tutorial_showLeftBar=yes; path=/';
        } else {
            contents.className = "LeftBar_hidden";
            main.className = "MainFlow_wide";
            toggle.innerHTML = "Show the TOC";
            document.cookie = 'tutorial_showLeftBar=no; path=/';
        }
    }

    function toggleLeft() {
        showLeft(document.getElementById("LeftBar").className ==
                "LeftBar_hidden");
        document.getElementById("ToggleLeft").blur();
    }

    function load() {
        showLeft(leftBar());
        document.getElementById("ToggleLeft").style.display="inline";
    }
    
</SCRIPT>

<META content="MSHTML 6.00.2900.3492" name=GENERATOR></HEAD>
<BODY onload=load()>
<DIV id=TopBar>
<DIV id=TopBar_tr>
<DIV id=TopBar_tl>
<DIV id=TopBar_br>
<DIV id=TopBar_bl>
<DIV id=TopBar_right><A href="http://java.sun.com/javase/6/download.jsp" 
target=_blank>Download the JDK</A> <BR><A 
href="http://java.sun.com/docs/books/tutorial/search.html" target=_blank>Search 
the Tutorials</A> <BR><A id=ToggleLeft href="javascript:toggleLeft()">Hide the 
TOC</A> </DIV></DIV></DIV></DIV></DIV></DIV>
<DIV class=PrintHeaders><B>Trail:</B> RMI <BR><B>Section:</B> Writing an RMI 
Server </DIV>
<DIV class=LeftBar_shown id=LeftBar>
<DIV id=Contents>
<DIV class=linkAHEAD><A 
href="http://java.sun.com/docs/books/tutorial/rmi/overview.html">An Overview of 
RMI Applications</A></DIV>
<DIV class=linkAHEAD><A 
href="http://java.sun.com/docs/books/tutorial/rmi/server.html">Writing an RMI 
Server</A></DIV>
<DIV class=nolinkBHEAD>Designing a Remote Interface</DIV>
<DIV class=linkBHEAD><A 
href="http://java.sun.com/docs/books/tutorial/rmi/implementing.html">Implementing 
a Remote Interface</A></DIV>
<DIV class=linkAHEAD><A 
href="http://java.sun.com/docs/books/tutorial/rmi/client.html">Creating a Client 
Program</A></DIV>
<DIV class=linkAHEAD><A 
href="http://java.sun.com/docs/books/tutorial/rmi/example.html">Compiling and 
Running the Example</A></DIV>
<DIV class=linkBHEAD><A 
href="http://java.sun.com/docs/books/tutorial/rmi/compiling.html">Compiling the 
Example Programs</A></DIV>
<DIV class=linkBHEAD><A 
href="http://java.sun.com/docs/books/tutorial/rmi/running.html">Running the 
Example Programs</A></DIV></DIV></DIV>
<DIV class=MainFlow_indented id=MainFlow><SPAN id=BreadCrumbs><A 
href="http://java.sun.com/docs/books/tutorial/index.html" target=_top>Home 
Page</A> &gt; <A href="http://java.sun.com/docs/books/tutorial/rmi/index.html" 
target=_top>RMI</A> </SPAN>
<DIV class=NavBit><A 
href="http://java.sun.com/docs/books/tutorial/rmi/server.html" 
target=_top>«&nbsp;Previous</A>&nbsp;•&nbsp;<A 
href="http://java.sun.com/docs/books/tutorial/rmi/TOC.html" 
target=_top>Trail</A>&nbsp;•&nbsp;<A 
href="http://java.sun.com/docs/books/tutorial/rmi/implementing.html" 
target=_top>Next&nbsp;»</A> </DIV>
<DIV id=PageTitle>Designing a Remote Interface</DIV>
<BLOCKQUOTE>At the core of the compute engine is a protocol that enables tasks 
  to be submitted to the compute engine, the compute engine to run those tasks, 
  and the results of those tasks to be returned to the client. This protocol is 
  expressed in the interfaces that are supported by the compute engine. The 
  remote communication for this protocol is illustrated in the following figure. 

  <P>
  <CENTER><IMG height=76 alt="" 
  src="F03_Designing a Remote Interface (The Java™ Tutorials  RMI)_files/rmi-3.gif" 
  width=248 align=bottom></CENTER>
  <P></P>
  <P>Each interface contains a single method. The compute engine's remote 
  interface, <CODE>Compute</CODE>, enables tasks to be submitted to the engine. 
  The client interface, <CODE>Task,</CODE> defines how the compute engine 
  executes a submitted task. 
  <P>The <A class=SourceLink 
  href="http://java.sun.com/docs/books/tutorial/rmi/examples/compute/Compute.java" 
  target=_blank><CODE><CODE>compute.Compute</CODE></CODE></A> interface defines 
  the remotely accessible part, the compute engine itself. Here is the source 
  code for the <CODE>Compute</CODE> interface: 
  <BLOCKQUOTE><PRE>package compute;

import java.rmi.Remote;
import java.rmi.RemoteException;

public interface Compute extends Remote {
    &lt;T&gt; T executeTask(Task&lt;T&gt; t) throws RemoteException;
}
</PRE></BLOCKQUOTE>
  <P>By extending the interface <CODE>java.rmi.Remote</CODE>, the 
  <CODE>Compute</CODE> interface identifies itself as an interface whose methods 
  can be invoked from another Java virtual machine. Any object that implements 
  this interface can be a remote object. 
  <P>As a member of a remote interface, the <CODE>executeTask</CODE> method is a 
  remote method. Therefore, this method must be defined as being capable of 
  throwing a <CODE>java.rmi.RemoteException</CODE>. This exception is thrown by 
  the RMI system from a remote method invocation to indicate that either a 
  communication failure or a protocol error has occurred. A 
  <CODE>RemoteException</CODE> is a checked exception, so any code invoking a 
  remote method needs to handle this exception by either catching it or 
  declaring it in its <CODE>throws</CODE> clause. 
  <P>The second interface needed for the compute engine is the <CODE>Task</CODE> 
  interface, which is the type of the parameter to the <CODE>executeTask</CODE> 
  method in the <CODE>Compute</CODE> interface. The <A class=SourceLink 
  href="http://java.sun.com/docs/books/tutorial/rmi/examples/compute/Task.java" 
  target=_blank><CODE><CODE>compute.Task</CODE></CODE></A> interface defines the 
  interface between the compute engine and the work that it needs to do, 
  providing the way to start the work. Here is the source code for the 
  <CODE>Task</CODE> interface: 
  <BLOCKQUOTE><PRE>package compute;

public interface Task&lt;T&gt; {
    T execute();
}
</PRE></BLOCKQUOTE>
  <P>The <CODE>Task</CODE> interface defines a single method, 
  <CODE>execute</CODE>, which has no parameters and throws no exceptions. 
  Because the interface does not extend <CODE>Remote</CODE>, the method in this 
  interface doesn't need to list <CODE>java.rmi.RemoteException</CODE> in its 
  <CODE>throws</CODE> clause. 
  <P>The <CODE>Task</CODE> interface has a type parameter, <CODE>T</CODE>, which 
  represents the result type of the task's computation. This interface's 
  <CODE>execute</CODE> method returns the result of the computation and thus its 
  return type is <CODE>T</CODE>. 
  <P>The <CODE>Compute</CODE> interface's <CODE>executeTask</CODE> method, in 
  turn, returns the result of the execution of the <CODE>Task</CODE> instance 
  passed to it. Thus, the <CODE>executeTask</CODE> method has its own type 
  parameter, <CODE>T</CODE>, that associates its own return type with the result 
  type of the passed <CODE>Task</CODE> instance. 
  <P>RMI uses the Java object serialization mechanism to transport objects by 
  value between Java virtual machines. For an object to be considered 
  serializable, its class must implement the <CODE>java.io.Serializable</CODE> 
  marker interface. Therefore, classes that implement the <CODE>Task</CODE> 
  interface must also implement <CODE>Serializable</CODE>, as must the classes 
  of objects used for task results. 
  <P>Different kinds of tasks can be run by a <CODE>Compute</CODE> object as 
  long as they are implementations of the <CODE>Task</CODE> type. The classes 
  that implement this interface can contain any data needed for the computation 
  of the task and any other methods needed for the computation. 
  <P>Here is how RMI makes this simple compute engine possible. Because RMI can 
  assume that the <CODE>Task</CODE> objects are written in the Java programming 
  language, implementations of the <CODE>Task</CODE> object that were previously 
  unknown to the compute engine are downloaded by RMI into the compute engine's 
  Java virtual machine as needed. This capability enables clients of the compute 
  engine to define new kinds of tasks to be run on the server machine without 
  needing the code to be explicitly installed on that machine. 
  <P>The compute engine, implemented by the <CODE>ComputeEngine</CODE> class, 
  implements the <CODE>Compute</CODE> interface, enabling different tasks to be 
  submitted to it by calls to its <CODE>executeTask</CODE> method. These tasks 
  are run using the task's implementation of the <CODE>execute</CODE> method and 
  the results, are returned to the remote client. </P></BLOCKQUOTE>
<BLOCKQUOTE></BLOCKQUOTE>
<DIV class=NavBit><A 
href="http://java.sun.com/docs/books/tutorial/rmi/server.html" target=_top>« 
Previous</A> • <A href="http://java.sun.com/docs/books/tutorial/rmi/TOC.html" 
target=_top>Trail</A> • <A 
href="http://java.sun.com/docs/books/tutorial/rmi/implementing.html" 
target=_top>Next »</A> </DIV></DIV>
<DIV id=Footer>
<HR>

<DIV id=TagNotes><FONT face=sans-serif size=1>Problems with the examples? Try <A 
href="http://java.sun.com/docs/books/tutorial/information/run-examples.html" 
target=_blank>Compiling and Running the Examples: FAQs</A>. <BR>Complaints? 
Compliments? Suggestions? <A 
href="http://developer.sun.com/contact/tutorial_feedback.jsp" target=_blank>Give 
us your feedback</A>. </FONT></DIV>
<DIV id=Footer>
<P><FONT face=sans-serif size=1><A name=license_info>Your use of this</A> page 
<A 
href="http://java.sun.com/docs/books/tutorial/">(http://java.sun.com/docs/books/tutorial</A> 
(Last Updated <A 
href="http://java.sun.com/docs/books/tutorial/information/history.html">2/14/2008</A>)) 
and all the material on pages under "The Java Tutorials" banner is subject to 
the <A href="http://developers.sun.com/global/termsofuse.html#g2_12">Terms of 
Use</A>. Additionally, (i) any example code contained in any of these Java 
Tutorials pages is also licensed under the <A 
href="http://developers.sun.com/license/berkeley_license.html">Code Sample 
License</A>, and (ii) the entire Java Tutorials content is available for 
download under the Java Tutorials Limited Non-Commercial License for limited, 
non-commercial individual and/or research and instructional use at <A 
href="https://cds.sun.com/is-bin/INTERSHOP.enfinity/WFS/CDS-CDS_Developer-Site/en_US/-/USD/ViewProductDetail-Start?ProductRef=tutorial-2008_03_14-oth-JPR@CDS-CDS_Developer">Sun 
Download Center</A>.</FONT></P><!--
-->
<TABLE cellSpacing=0 cellPadding=5 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width="20%">
      <TABLE cellSpacing=0 cellPadding=5 width="100%" border=0>
        <TBODY>
        <TR>
          <TD align=middle><IMG id=duke height=55 
            src="F03_Designing a Remote Interface (The Java™ Tutorials  RMI)_files/DukeWave.gif" 
            width=55></TD>
          <TD vAlign=center align=left><IMG id=sun height=29 
            src="F03_Designing a Remote Interface (The Java™ Tutorials  RMI)_files/logo_sun_small_sdn.gif" 
            width=61></TD></TR></TBODY></TABLE></TD>
    <TD vAlign=center align=middle width="55%"><FONT color=#7e9cb1 size=1><A 
      href="http://developers.sun.com/global/aboutsun.html">About Sun</A> | <A 
      href="http://developers.sun.com/global/aboutsdn.html">About This Site</A> 
      | <A href="http://developers.sun.com/global/termsofuse.html">Terms of 
      Use</A> | <A 
      href="http://developers.sun.com/global/trademarks.html">Trademarks</A></FONT><FONT 
      color=#7e9cb1>&nbsp;</FONT> </TD>
    <TD vAlign=center align=right width="25%"><FONT color=#4b7592 
      size=2><STRONG>A Sun Developer Network Site</STRONG></FONT><BR><FONT 
      size=1><A 
      href="http://java.sun.com/docs/books/tutorial/information/copyright.html">Copyright</A></FONT> 
      <FONT color=#4b7592 size=2>1995-2008 Sun Microsystems, Inc.</FONT> 
  </TD></TR></TBODY></TABLE></DIV></DIV>
<DIV class=PrintHeaders><B>Previous page:</B> Writing an RMI Server <BR><B>Next 
page:</B> Implementing a Remote Interface </DIV>
<SCRIPT language=JavaScript 
src="F03_Designing a Remote Interface (The Java™ Tutorials  RMI)_files/s_code_remote.js"></SCRIPT>
</BODY></HTML>
